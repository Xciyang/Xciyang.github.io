<!DOCTYPE html>
<html lang="zh-CN">





<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/img/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="一个半退役OI的文化课选手...">
    <meta name="author" content="Ciyang">
    <meta name="keywords" content>
    <title>Ciyang’s Blog</title>
    <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css?v=5.7.2">
    <link rel="stylesheet" href="/lib/mdbootstrap/css/bootstrap.min.css?v=4.3.1">
    <link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css?v=4.8.7">
    <link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_l7tuu6qerl9.css">
    
        <link rel="stylesheet" href="/lib/prettify/tomorrow-night-blue.min.css">
    
    <link rel="stylesheet" href="/css/main.css">

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?c285bfd3ab71dfa2d08b9656991e938e";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<link rel="stylesheet" href="/css/prism-hopscotch.css" type="text/css"></head>


<body>
<header style="height: 100vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
<div class="container">
    <a class="navbar-brand" href="/"><strong>Ciyang’s Blog</strong></a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto text-center">
            
            <li class="nav-item">
                <a class="nav-link" href="/">主页</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="/archives/">归档</a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link" href="/about/">关于</a>
            </li>
            
        </ul>
    </div>
</div>


</nav>
    <div class="view intro-2"
         style="background: url('/img/index.jpg')no-repeat center center;background-size: cover;">
        <div class="full-bg-img">
            <div class="mask rgba-black-light flex-center">
                <div class="container text-center white-text wow fadeInUp">
                    <span class="h2" id="subtitle">
                        
                    </span>
                    
                </div>
            </div>
        </div>
    </div>
</header>

<main>
    
        <div class="container nopadding-md">
            <div class="py-5 z-depth-3 board">
                
                <div class="container">
                    <div class="row">
                        <div class="col-12 col-md-10 m-auto">
                            <link rel="stylesheet" href="/css/index.css">



    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-04/27-luogu2114/">
                <p class="h4 index-header">NOI2014 - 起床困难综合症</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接1: https://www.luogu.org/problemnew/show/P2114题目链接2: https://www.lydsy.com/JudgeOnline/problem.php?id=3668题目链接3: http://uoj.ac/problem/2题目链接4: https://vijos.org/p/1864
前言用了一个原创的做法, 模拟配合搜索, 非常玄学的过了这道题. 好像还没有这种做法的题解.
分析题意比较好理解, 当我看到这句话:

最终受到的伤害为对方初始攻击力x依次经过所有n扇防御门后转变得到的攻击力

依次经过N扇门是重点, 大大降低了这道题的难度. 
由此想到最为暴力的方法, 从1到M枚举每一个数, 然后模拟N个操作, 算出每个数最后的伤害取个最大. 复杂度$ O(NM) $ 太大了.
然后考虑到位运算的性质, 我们只需要求出每一个二进制位上的变化就行了, 然后再把这些位组合起来, 求出一个初始不大于M但最终最大的数. 这个组合可以用搜索, 复杂度大概是 $ O(N \log t + t) $
看数据范围, $\log t$ 比30小,</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-04-27
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            搜索&nbsp;
                        
                            模拟&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-04/24-luogu1041/">
                <p class="h4 index-header">NOIP2003 - 传染病控制</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接: https://www.luogu.org/problemnew/show/P1041
前言这道题正解搜索, 然而可能有一些同学和我一样一开始觉得能用DP做的…推完递推式, 打完DP只有40, 然后也没有找出错误. 我这篇题解主要就来说一下这个DP的思路和错误.
如果你已经懂了DFS思路, 可以理解一下错误DP的思想, 如果看不出错误, 很可能是你对这个题的题意还不够清楚.
分析先建图, 是以1节点为根的一棵树.
我们开一个一维数组f, 下标代表节点编号. 记录传染到这个点最少再传染给几个人.
我们分类讨论, 先不考虑儿子节点还会继续传染的情况. 如果这个点没有儿子或者只有一个儿子, 那么最少再传染0个人. 否则传染节点数就是儿子数 - 1.
如果儿子节点还会继续传染, 那么我们就切断求出的f值最大的那个.
$$ f[now] = (\sum_i^{i∈sons[now]}f[i] + 1) - (\max_i^{i∈sons[now]}f[i]) - 1 $$这个式子我实在不会写的更好了, sons代表节点的所有儿子.
看懂的话应该很快就能发现DP的错误在哪.结合这两个说</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-04-24
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            搜索&nbsp;
                        
                            动态规划&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-04/22-luoguat2657/">
                <p class="h4 index-header">AT2657 - Mole and Abandoned Mine</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接1: https://www.luogu.org/problemnew/show/AT2657题目链接2: https://www.luogu.org/jump/atcoder/2657
引言时隔一月, 我又回来了写题解了. 
以后可能颓的时间会变少. 现在文化课好像更重要些, 还是要专心学习吧. 
本题是一个状压练手好题.
分析我再大致翻译描述一下题目, 我一开始因为没看样例就理解错了.
本题给出N点M边的无向图, 然后要割掉其中一些边, 使从1到N只有一条不经过重复顶点的边, 求删掉的边的边权和最小.

重点是这条路径不需要经过所有点

看数据范围, 只可能是状压或者暴力搜索, 然而难度说明只能是状压了.
很容易想到, 求删边边权最少, 相当于求留下边的边权和最大.
然而我没有想到具体怎么求, 搜到了一个大佬的题解, 最终的图还有一个重要性质:

每个点最多只与保留下来的那条路径上的一个点有边相连

所以我们先预处理出所有的联通块中的边权和.
然后进行DP, 二维数组, 第一维为处理了哪些点, 第二维为到达哪个点(当前终点).
有两种转移, 一种是新处理一个点, 一种是将一</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-04-22
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            动态规划&nbsp;
                        
                            状压DP&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-03/31-luogu1955/">
                <p class="h4 index-header">NOI2015 - 程序自动分析</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接1: https://www.luogu.org/problemnew/show/P1955题目链接2: https://www.lydsy.com/JudgeOnline/problem.php?id=4195
引言最近变得越来越颓废. 介于好长时间没更新博客, 强行水一篇题解.
这道题没看题解15分钟就A了, 真的有点水了…
分析题意大概就是有 N 个关系, 每个代表X1 = X2 或者 X1 ≠ X2, 求出这些关系能不能成立.
很容易就想到并查集, 先将相等的X合并, 然后判断不等关系的两个变量在不在一个并查集里就行了.那么就只需要排下序, 先进行合并操作再去判断.
判断不等关系过程中发现X1和X2在同一个并查集里, 那直接输出NO就行了.
然而X的下标可能会很大. 所以考虑离散化, 那么肯定直接上map.
输入的时候就离散化, 然后排个序, 打完合并和查询就AC了.
不过map常数巨大, 需要开O2稳过.
代码评测详情（O2）:Accepted  100用时: 1623ms / 内存: 11960KB
#include &lt;iostream>
#include &</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-03-31
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            并查集&nbsp;
                        
                            STL&nbsp;
                        
                            离散化&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-03/17-luogu4205/">
                <p class="h4 index-header">NOI2005 - 智慧珠游戏</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接1: https://www.luogu.org/problemnew/show/P4205题目链接2: https://www.lydsy.com/JudgeOnline/problem.php?id=1501
引言最近忙于各种事, 又有十天没写题解了, 好像这十天又变颓废了好多
实在学习不下去很酷很炫的算法, 特意找搜索模拟等类题, 然后看到了这道题
做题的时候教练还在说:”不要看不起搜索…”
然后因为看我做这道题, 旁边的大佬还作了一首诗
生命诚可贵
搜索价更高
若为暴力故
二者皆可抛
    --Steve_Braveman分析我就直接把题目描述的图搬过来了

一眼看上去就直接劝退, 当然其实也没那么严重, 好像还是可做的
具体分析一下这道题, 所有的零件都允许旋转和翻转, 那么每种零件都有多种放置的方法
所以我们就可以画一下不同的方法, 可以在草稿纸上或者上画图
为了区别什么是不同的摆放方法, 就要确定搜索的方式, 我们枚举每一个点, 如果这个点当前没有被覆盖过, 那么我们就可以选择当前剩余的零件进行判断.
我选择零件最左上角的那个珠子来填当前这个点, 因此有这些种不</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-03-17
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            搜索&nbsp;
                        
                            模拟&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-03/07-luogu4085/">
                <p class="h4 index-header">USACO17DEC - Haybale Feast</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接: https://www.luogu.org/problemnew/show/P4085
引言好像教练说要考线段树和树状数组, 然后看到了这个题
这道题可以练习各种数据结构的基础操作…
我就浪费了大把时间用各种算法来A这道题
分析先看这个 $ \sum_{k=i}^{j} F_k \geqslant M $ 
这个一眼看上去就是前缀和了.静态的话直接普通的前缀和$ O(n) $ 预处理, $ O(1) $ 查询就行了,应该是时间复杂度最低的了.
至于这个 $ max(S_i,S_{i+1},…,S_{j-1},S_j) $
维护方法就比较多了,可以用线段树,分块,ST表,我没有写树状数组,因为太麻烦了.
然后我就浪费了好多时间来用不同的算法A这道题…
这道题还有一个性质, 关于找i和j, 不需要 $ O(n^2) $ 的复杂度来枚举区间, 我给出下面这个式子
$$ max(s_i, s_{i + 1}, s_{i + 2}) &lt;=  max(s_i, s_{i + 1}, s_{i + 2}, s_{i + 3}) $$
这个式子根本不用推, 一眼看上去肯定就成立了
那</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-03-07
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            分块&nbsp;
                        
                            二分查找&nbsp;
                        
                            ST表&nbsp;
                        
                            线段树&nbsp;
                        
                            前缀和&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-03/03-luogu1072/">
                <p class="h4 index-header">NOIP2009 - Hankson 的趣味题</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接: https://www.luogu.org/problemnew/show/P1072
引言半个月没更新博客了, 一直忙于做题练习和学文化课, 不然快被劝退了
最近学习一本通提高篇, 复习下之前学的GCD等数论知识
分析先从题目描述说起, 给出了a0, a1, b0, b1四个数
求 $ gcd(x, a0) = a1 $ 且 $ lcm(x, b0) = b1 $ 中 x 的方案数 
那么首先我们都知道两个很基础的东西
$$ gcd(a, b) = gcd(b, a\mod b) $$
$$ lcm(a, b) = a × b / gcd(a, b) $$
然后就可以来做这道题了
因为
$$ lcm(x, b0) = x × b0 / gcd(x, b0) = b1 $$
所以
$$ x = \frac{b1}{b0} × gcd(x, b0) $$
我们设一个数 $ y = gcd(x, b0) $ 那么一定 $ 1 ≤ y ≤ \sqrt{b0} $
所以我们只要枚举 y 的值, 然后代入算出 $ x = b1 / b0 × y $
然后代入题目中的两个式子进行判断
</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-03-03
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            GCD&nbsp;
                        
                            数论&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-02/18-luogu2633/">
                <p class="h4 index-header">LuoguP2633 - Count on a tree</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接1: https://www.luogu.org/problemnew/show/P2633题目链接2: https://www.lydsy.com/JudgeOnline/problem.php?id=2588题目链接3: https://www.luogu.org/problemnew/show/SP10628题目链接4: https://www.spoj.com/problems/COT/
前言本来是打算做 TJOI2018 - 异或 那道题的, 然后又看到这道题, 好像做这道题有助于那道题…然后就开始干
分析这道题像是组合模板题…用倍增LCA + 主席树, 直接套模板就行了.
有一些需要注意的东西, 边的数组最好开大一点, 不然容易RE, 哪个算法写炸了也容易RE, 所以需要小心谨慎的写代码, 然而Ciyang的倍增写挂了…
主席树我写的指针版, 好像很罕见, 强烈安利, 虽然和数组版没有多大的区别.
对于这道题, 先预处理出LCA, 然后建个树（数组版不需要）
查询时把$ x $和$ y $之间的链提出来, 主席树上存的是前缀和, 那么就需要先求出$ lca(x,y)</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-02-18
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            LCA&nbsp;
                        
                            主席树&nbsp;
                        
                    
                </div>
            
        </div>
    </div>

    <div class="row mb-4 mx-auto">
        
        
        <div class="col-12 col-md-8 m-auto">
            <a href="/2019-02/16-luogu2580/">
                <p class="h4 index-header">LuoguP2580 - 于是他错误的点名开始了</p>
                <div class="index-excerpt">
                    
                        <div class="index-text mb-1">题目链接: https://www.luogu.org/problemnew/show/P2580
前言这篇题解原来是我放到Luogu上的，打算搬过来，原地址: https://ciyang.blog.luogu.org/solution-p2580
当时是自己闲得无聊自创的算法，跑了最优解第3，Trie树中最快了
不过后来Luogu上的dalao告诉我这个是边压Trie树，因此人生失去意义
此题解非正常字典树,推荐先学习普通的字典树并了解指针的使用
代码还是之前的代码,名为Lumpy_Tnode.
简介树上的边存储字符串,代表节点的单独前缀.
写题解的上午有了灵感,然后根据思路模拟了一下,可行性挺高的.代码上比普通的复杂一些,我使用了指针.    

按任意顺序插入abcd,abcde,bcde,bcdf四个字符串的Trie树长这样
红色节点表示已插入字符串的结尾节点
证明通过与比较普通指针版和非指针版Trie来证明一下可行性.  
已知一个节点要保存26条边的指针
指针版Trie可使用动态内存,缺点是每个节点只保存一个字符,会有大量边的空指针来占用额外的内存,且new节点多了,内存</div>
                    
                </div>
            </a>

            
                <div>
                    <i class="iconfont icon-riqi2"></i>&nbsp;2019-02-16
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    
                        <i class="iconfont icon-cc-tag-more"></i>
                        
                            题解&nbsp;
                        
                            Cpp&nbsp;
                        
                            字典树&nbsp;
                        
                            边压Trie&nbsp;
                        
                    
                </div>
            
        </div>
    </div>



<nav aria-label="index posts navigation">
<ul class="pagination pg-blue justify-content-center mt-5">
    
        <li class="page-item">
        <a class="page-link" href="/">Previous</a>
        </li>
    
    
        <li class="page-item">
        <a class="page-link" href="/page/3/">Next</a>
        </li>
    
</ul>
</nav>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    
</main>

<footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Ciyang</b></a>
    <i class="iconfont icon-love"></i><br>
    
  </div>
</footer>

  <!-- SCRIPTS -->
  <script src="/lib/mdbootstrap/js/jquery-3.4.1.min.js"></script>
  <script src="/lib/mdbootstrap/js/popper.min.js"></script>
  <script src="/lib/mdbootstrap/js/bootstrap.min.js?v=4.3.1"></script>
  <script src="/lib/mdbootstrap/js/mdb.min.js?v=4.8.7"></script>
  <script src="/js/main.js"></script>
  
  
    <script src="/lib/prettify/prettify.min.js?v=0.1.0"></script>
    <script>
      $(document).ready(function(){
        $('pre').addClass('prettyprint linenums');
        prettyPrint();
      })
    </script>
  
  
    <script src="/lib/typed/typed.min.js?v=2.0.9"></script>
    <script>
        var typed = new Typed('#subtitle', {
          strings: [
            '  ',
            "Ciyang&nbsp;",
        ],
        cursorChar: "|",
        typeSpeed: 50,
        startDelay: 300, //开始之前延迟300毫秒
        loop: false,
        });
        $(".typed-cursor").addClass("h2");
    </script>
  
  
    <script src="/lib/anchor/anchor.min.js?v=4.2.0"></script>
    <script>
      anchors.options = {
        placement: "right",
        visible: "false",
        
      };
      anchors.add(".post-content > h1,h2,h3,h4,h5,h6");
    </script>
  
</body>
</html>